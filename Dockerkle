# 使用Ubuntu 22.04 LTS作为基础镜像
FROM ubuntu:22.04

# 更新Ubuntu软件包列表
RUN apt-get update

# 安装必要的工具
RUN apt-get install -y nano wget dialog net-tools

# 安装shellinabox
RUN apt-get install -y shellinabox

# 配置shellinabox
RUN echo "SHELLINABOX_PORT=4200" >> /etc/default/shellinabox
RUN echo "SHELLINABOX_ARGS=\"--no-beep --disable-ssl\"" >> /etc/default/shellinabox

# 暴露22端口
EXPOSE 22

# 启动shellinabox
CMD service shellinabox start && /bin/bash
